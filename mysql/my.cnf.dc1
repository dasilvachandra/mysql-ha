[mysqld]
server_id=1
bind-address=0.0.0.0

# Binary log & GTID (wajib untuk Group Replication)
log_bin=binlog
binlog_format=ROW
gtid_mode=ON
enforce_gtid_consistency=ON
binlog_checksum=NONE
master_info_repository=TABLE
relay_log_info_repository=TABLE
transaction_write_set_extraction=XXHASH64

# Load plugin Group Replication
plugin-load-add=group_replication.so

# Group Replication Config
loose-group_replication_group_name="b9a2b7a2-5f4c-4f8c-9b2e-1c1d9f00a001"
loose-group_replication_start_on_boot=OFF
loose-group_replication_bootstrap_group=OFF
loose-group_replication_local_address="10.7.0.4:33061"
loose-group_replication_group_seeds="10.7.0.4:33061,10.7.0.5:33061,10.7.0.6:33061"

# Mode single-primary
loose-group_replication_single_primary_mode=ON
loose-group_replication_enforce_update_everywhere_checks=OFF

# Allowlist antar node
loose-group_replication_ip_allowlist="10.7.0.4,10.7.0.5,10.7.0.6"
